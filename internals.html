
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Internals &#8212; Formulae 0.2.0 documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/blank.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="API Reference" href="api_reference.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/formulae_small.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="notebooks/getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api_reference.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Internals
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/bambinos/formulae" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/formulae/" rel="noopener" target="_blank" title="PyPi">
            <span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPi</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matrices">
   <code class="xref py py-mod docutils literal notranslate">
    <span class="pre">
     matrices
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#terms">
   <code class="xref py py-mod docutils literal notranslate">
    <span class="pre">
     terms
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#call-resolver">
   <code class="xref py py-mod docutils literal notranslate">
    <span class="pre">
     call_resolver
    </span>
   </code>
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="internals">
<h1>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h1>
<p>This reference provides detailed documentation for modules and classes that are important to
developers who want to include formulae in their library.</p>
<div class="toctree-wrapper compound">
</div>
<section id="matrices">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">matrices</span></code><a class="headerlink" href="#matrices" title="Permalink to this headline">¶</a></h2>
<p>These objects are not intended to be used by end users. But developers working with formulae will
need some familiarity with them, especially if you want to take advantage of features like obtaining
a design matrix from an existing design but evaluated with new data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.matrices.</span></span><span class="sig-name descname"><span class="pre">ResponseVector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#ResponseVector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.ResponseVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of the respose vector of a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>term</strong> (<a class="reference internal" href="#formulae.terms.Response" title="formulae.terms.Response"><em>Response</em></a>) – The term that represents the response in the model.</p></li>
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from.</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector.design_vector">
<span class="sig-name descname"><span class="pre">design_vector</span></span><a class="headerlink" href="#formulae.matrices.ResponseVector.design_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>A 1-dimensional numpy array containing the values of the response.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#formulae.matrices.ResponseVector.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the response term.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector.kind">
<span class="sig-name descname"><span class="pre">kind</span></span><a class="headerlink" href="#formulae.matrices.ResponseVector.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>Either <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector.baseline">
<span class="sig-name descname"><span class="pre">baseline</span></span><a class="headerlink" href="#formulae.matrices.ResponseVector.baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the class taken as reference if <code class="docutils literal notranslate"><span class="pre">kind</span> <span class="pre">=</span> <span class="pre">&quot;categoric&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector._evaluate">
<span class="sig-name descname"><span class="pre">_evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#ResponseVector._evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.ResponseVector._evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates <code class="docutils literal notranslate"><span class="pre">self.term</span></code> inside the data mask provided by <code class="docutils literal notranslate"><span class="pre">data</span></code> and
updates <code class="docutils literal notranslate"><span class="pre">self.design_vector</span></code> and <code class="docutils literal notranslate"><span class="pre">self.name</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.ResponseVector.as_dataframe">
<span class="sig-name descname"><span class="pre">as_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#ResponseVector.as_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.ResponseVector.as_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">self.design_vector</span></code> as a pandas.DataFrame.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.matrices.</span></span><span class="sig-name descname"><span class="pre">CommonEffectsMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#CommonEffectsMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of the design matrix for the common effects of a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><em>Model</em></a>) – A <code class="docutils literal notranslate"><span class="pre">Model</span></code> object containing only terms for the common effects of the model.</p></li>
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from.</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix.design_matrix">
<span class="sig-name descname"><span class="pre">design_matrix</span></span><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix.design_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>A 2-dimensional numpy array containing the values of the design matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix.evaluated">
<span class="sig-name descname"><span class="pre">evaluated</span></span><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix.evaluated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the terms have been evaluated at least once. The terms must have been evaluated
before calling <code class="docutils literal notranslate"><span class="pre">self._evaluate_new_data()</span></code> because we must know the kind of each term
to correctly handle the new data passed and the terms here.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix.terms_info">
<span class="sig-name descname"><span class="pre">terms_info</span></span><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix.terms_info" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that holds information related to each of the common specific terms, such as
<code class="docutils literal notranslate"><span class="pre">&quot;cols&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;full_names&quot;</span></code>. If <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>, it also
contains <code class="docutils literal notranslate"><span class="pre">&quot;groups&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;encoding&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;levels&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;reference&quot;</span></code>.
The keys are given by the term names.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#CommonEffectsMatrix.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sub-matrix that corresponds to a given term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>term</strong> (<em>string</em>) – The name of the term.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matrix</strong> – A 2-dimensional numpy array that represents the sub-matrix corresponding to the
term passed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix._evaluate">
<span class="sig-name descname"><span class="pre">_evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#CommonEffectsMatrix._evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix._evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain design matrix for common effects.</p>
<p>Evaluates <code class="docutils literal notranslate"><span class="pre">self.model</span></code> inside the data mask provided by <code class="docutils literal notranslate"><span class="pre">data</span></code> and updates
<code class="docutils literal notranslate"><span class="pre">self.design_matrix</span></code>. This method also sets the values of <code class="docutils literal notranslate"><span class="pre">self.data</span></code> and
<code class="docutils literal notranslate"><span class="pre">self.env</span></code>.</p>
<p>It also populates the dictionary <code class="docutils literal notranslate"><span class="pre">self.terms_info</span></code> with information related to each term,
such as the kind, the columns they occupy in the design matrix and the names of the columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix._evaluate_new_data">
<span class="sig-name descname"><span class="pre">_evaluate_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#CommonEffectsMatrix._evaluate_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix._evaluate_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates common terms with new data and return a new instance of
<code class="docutils literal notranslate"><span class="pre">CommonEffectsMatrix</span></code>.</p>
<p>This method is intended to be used to obtain design matrices for new data and obtain
out of sample predictions. Stateful transformations are properly handled if present in any
of the terms, which means parameters involved in the transformation are not overwritten with
the new data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_instance</strong> – A new instance of <code class="docutils literal notranslate"><span class="pre">CommonEffectsMatrix</span></code> whose design matrix is obtained with the
values in the new data set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#formulae.matrices.CommonEffectsMatrix" title="formulae.matrices.CommonEffectsMatrix">CommonEffectsMatrix</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.CommonEffectsMatrix.as_dataframe">
<span class="sig-name descname"><span class="pre">as_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#CommonEffectsMatrix.as_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.CommonEffectsMatrix.as_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>self.design_matrix</cite> as a pandas.DataFrame.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.matrices.</span></span><span class="sig-name descname"><span class="pre">GroupEffectsMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">terms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#GroupEffectsMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of the design matrix for the group specific effects of a model.</p>
<p>The sub-matrix that corresponds to a specific group effect can be accessed by
<code class="docutils literal notranslate"><span class="pre">self[term_name]</span></code>, for example <code class="docutils literal notranslate"><span class="pre">self[&quot;1|g&quot;]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>terms</strong> (<em>list</em>) – A list of <code class="docutils literal notranslate"><span class="pre">GroupSpecificTerm</span></code> objects.</p></li>
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix.design_matrix">
<span class="sig-name descname"><span class="pre">design_matrix</span></span><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix.design_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>A 2 dimensional numpy array with the values of the design matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix.evaluated">
<span class="sig-name descname"><span class="pre">evaluated</span></span><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix.evaluated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the terms have been evaluated at least once. The terms must have been evaluated
before calling <code class="docutils literal notranslate"><span class="pre">self._evaluate_new_data()</span></code> because we must know the kind of each term
to correctly handle the new data passed and the terms here.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix.terms_info">
<span class="sig-name descname"><span class="pre">terms_info</span></span><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix.terms_info" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that holds information related to each of the group specific terms, such as
the matrices <code class="docutils literal notranslate"><span class="pre">&quot;Xi&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;Ji&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cols&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;full_names&quot;</span></code>. If
<code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>, it also contains <code class="docutils literal notranslate"><span class="pre">&quot;groups&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;encoding&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;levels&quot;</span></code>,
and <code class="docutils literal notranslate"><span class="pre">&quot;reference&quot;</span></code>. The keys are given by the term names.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#GroupEffectsMatrix.__getitem__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sub-matrix that corresponds to a given term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>term</strong> (<em>string</em>) – The name of a group specific term.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matrix</strong> – A 2-dimensional numpy array that represents the sub-matrix corresponding to the
term passed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix._evaluate">
<span class="sig-name descname"><span class="pre">_evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#GroupEffectsMatrix._evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix._evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate group specific terms.</p>
<p>This evaluates <code class="docutils literal notranslate"><span class="pre">self.terms</span></code> inside the data mask provided by <code class="docutils literal notranslate"><span class="pre">data</span></code> and the environment
<code class="docutils literal notranslate"><span class="pre">env</span></code>. It updates <code class="docutils literal notranslate"><span class="pre">self.design_matrix</span></code> with the result from the evaluation of each
term.</p>
<p>This method also sets the values of <code class="docutils literal notranslate"><span class="pre">self.data</span></code> and <code class="docutils literal notranslate"><span class="pre">self.env</span></code>. It also populates
the dictionary <code class="docutils literal notranslate"><span class="pre">self.terms_info</span></code> with information related to each term,such as the kind,
the columns and rows they occupy in the design matrix and the names of the columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.matrices.GroupEffectsMatrix._evaluate_new_data">
<span class="sig-name descname"><span class="pre">_evaluate_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/matrices.html#GroupEffectsMatrix._evaluate_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.matrices.GroupEffectsMatrix._evaluate_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates group specific terms with new data and return a new instance of
<code class="docutils literal notranslate"><span class="pre">GroupEffectsMatrix</span></code>.</p>
<p>This method is intended to be used to obtain design matrices for new data and obtain
out of sample predictions. Stateful transformations are properly handled if present in any
of the group specific terms, which means parameters involved in the transformation are not
overwritten with the new data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_instance</strong> – A new instance of <code class="docutils literal notranslate"><span class="pre">GroupEffectsMatrix</span></code> whose design matrix is obtained with the values
in the new data set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#formulae.matrices.GroupEffectsMatrix" title="formulae.matrices.GroupEffectsMatrix">GroupEffectsMatrix</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="terms">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">terms</span></code><a class="headerlink" href="#terms" title="Permalink to this headline">¶</a></h2>
<p>These are internal components of the model that are not expected to be used by end users.
Developers won’t (normally) need to access these objects either.
But reading this documentation may help you understand how formulae works, with both its advantages
and disadvantages.</p>
<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.Variable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">Variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_response</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a variable in a model Term.</p>
<p>This class and <code class="docutils literal notranslate"><span class="pre">Call</span></code> are the atomic components of a model term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – The identifier of the variable.</p></li>
<li><p><strong>level</strong> (<em>string</em>) – The level to use as reference. Allows to use the notation <code class="docutils literal notranslate"><span class="pre">variable[&quot;level&quot;]</span></code> to indicate
which event should be model as success in binary response models. Can only be used with
response terms. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>is_response</strong> (<em>bool</em>) – Indicates whether this variable represents a response. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Variable._eval_categoric">
<span class="sig-name descname"><span class="pre">_eval_categoric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable._eval_categoric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable._eval_categoric" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes evaluation of a categoric variable.</p>
<p>Converts the intermediate values in <code class="docutils literal notranslate"><span class="pre">x</span></code> into a numpy array of shape <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">p)</span></code>, where
<code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of observations and <code class="docutils literal notranslate"><span class="pre">p</span></code> the number of dummy variables used in the
numeric representation of the categorical variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em><em> or </em><em>pd.Series</em>) – The intermediate values of the variable.</p></li>
<li><p><strong>encoding</strong> (<em>bool</em>) – Indicates if it uses full or reduced encoding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – A dictionary with keys <code class="docutils literal notranslate"><span class="pre">&quot;value&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;levels&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;reference&quot;</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&quot;encoding&quot;</span></code>. They represent the result of the evaluation, the type, which is
<code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>, the levels observed in the variable, the level used as reference when
using reduced encoding, and whether the encoding is <code class="docutils literal notranslate"><span class="pre">&quot;full&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;reduced&quot;</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Variable._eval_new_data_categoric">
<span class="sig-name descname"><span class="pre">_eval_new_data_categoric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable._eval_new_data_categoric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable._eval_new_data_categoric" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the variable with new data when variable is categoric.</p>
<p>This method also checks the levels observed in the new data frame are included within the
set of the levels of the original data set. If not, an error is raised.</p>
<dl class="simple">
<dt>x: np.ndarray or pd.Series</dt><dd><p>The intermediate values of the variable.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>result</strong> – Numeric numpy array <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">p)</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of observations and <code class="docutils literal notranslate"><span class="pre">p</span></code> the
number of dummy variables used in the numeric representation of the categorical
variable.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Variable._eval_numeric">
<span class="sig-name descname"><span class="pre">_eval_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable._eval_numeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable._eval_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes evaluation of a numeric variable.</p>
<p>Converts the intermediate values in <code class="docutils literal notranslate"><span class="pre">x</span></code> into a numpy array of shape <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">1)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of observations. This method is used both in <code class="docutils literal notranslate"><span class="pre">self.set_data</span></code>
and in <code class="docutils literal notranslate"><span class="pre">self.eval_new_data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>np.ndarray</em><em> or </em><em>pd.Series</em>) – The intermediate values of the variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – A dictionary with keys <code class="docutils literal notranslate"><span class="pre">&quot;value&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>. The first contains the result of the
evaluation, and the latter is equal to <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Variable.eval_new_data">
<span class="sig-name descname"><span class="pre">eval_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable.eval_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable.eval_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the variable with new data.</p>
<p>This method evaluates the variable within a new data mask. If this object is categorical,
original encoding is remembered (and checked) when carrying out the new evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – The rules for the shape of this array are the rules for <code class="docutils literal notranslate"><span class="pre">self._eval_numeric()</span></code> and
<code class="docutils literal notranslate"><span class="pre">self._eval_categoric()</span></code>. The first applies for numeric variables, the second for
categoric ones.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Variable.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable.set_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains and stores the final data object related to this variable.</p>
<p>The result is stored in <code class="docutils literal notranslate"><span class="pre">self.data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> (<em>bool</em>) – Indicates if it uses full or reduced encoding when the type of the variable is
categoric. Omitted when the variable is numeric.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Variable.set_type">
<span class="sig-name descname"><span class="pre">set_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/variable.html#Variable.set_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Variable.set_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Detemines the type of the variable.</p>
<p>Looks for the name of the variable in <code class="docutils literal notranslate"><span class="pre">data_mask</span></code> and sets the <code class="docutils literal notranslate"><span class="pre">.kind</span></code> property to
<code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code> depending on the type of the variable.
It also stores the result of the intermediate evaluation in <code class="docutils literal notranslate"><span class="pre">self._intermediate_data</span></code> to
save computing time later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Variable.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.Variable.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the variable as a set.</p>
<p>This is used to determine which variables of the data set being used are actually used in
the model. This allows us to subset the original data set and only raise errors regarding
missing values when the missingness happens in variables used in the model.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.Call">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">Call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">call</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_response</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a call in a model Term.</p>
<p>This class and <code class="docutils literal notranslate"><span class="pre">Variable</span></code> are the atomic components of a model term.</p>
<p>This object supports stateful transformations defined in <code class="docutils literal notranslate"><span class="pre">formulae.transforms</span></code>.
A transformation of this type defines its parameters the first time it is called,
and then can be used to recompute the transformation with memorized parameter values.
This behavior is useful when implementing a predict method and using transformations such
as <code class="docutils literal notranslate"><span class="pre">center(x)</span></code> or <code class="docutils literal notranslate"><span class="pre">scale(x)</span></code>. <code class="docutils literal notranslate"><span class="pre">center(x)</span></code> memorizes the value of the mean, and
<code class="docutils literal notranslate"><span class="pre">scale(x)</span></code> memorizes both the mean and the standard deviation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>call</strong> (<a class="reference internal" href="#formulae.terms.call_resolver.LazyCall" title="formulae.terms.call_resolver.LazyCall"><em>formulae.terms.call_resolver.LazyCall</em></a>) – The call expression returned by the parser.</p></li>
<li><p><strong>is_response</strong> (<em>bool</em>) – Indicates whether this call represents a response. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call._eval_categoric">
<span class="sig-name descname"><span class="pre">_eval_categoric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call._eval_categoric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call._eval_categoric" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes evaluation of categoric call.</p>
<p>First, it checks whether the intermediate evaluation returned is ordered. If not, it
creates a category where the levels are the observed in the variable. They are sorted
according to <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> rules.</p>
<p>Then, it determines the reference level as well as all the other levels. If the variable
is a response, the value returned is a dummy with 1s for the reference level and 0s
elsewhere. If it is not a response variable, it determines the matrix of dummies according
to the levels and the encoding passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em><em> or </em><em>pd.Series</em>) – The intermediate values of the variable.</p></li>
<li><p><strong>encoding</strong> (<em>bool</em>) – Indicates if it uses full or reduced encoding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – A dictionary with keys <code class="docutils literal notranslate"><span class="pre">&quot;value&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;levels&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;reference&quot;</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&quot;encoding&quot;</span></code>. They represent the result of the evaluation, the type, which is
<code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>, the levels observed in the variable, the level used as reference when
using reduced encoding, and whether the encoding is <code class="docutils literal notranslate"><span class="pre">&quot;full&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;reduced&quot;</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call._eval_new_data_categoric">
<span class="sig-name descname"><span class="pre">_eval_new_data_categoric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call._eval_new_data_categoric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call._eval_new_data_categoric" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the call with new data when the result of the call is categoric.</p>
<p>This method also checks the levels observed in the new data frame are included within the
set of the levels of the result of the original call If not, an error is raised.</p>
<dl class="simple">
<dt>x: np.ndarray or pd.Series</dt><dd><p>The intermediate values of the variable.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>result</strong> – Numeric numpy array <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">p)</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of observations and <code class="docutils literal notranslate"><span class="pre">p</span></code> the
number of dummy variables used in the numeric representation of the categorical
variable.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call._eval_numeric">
<span class="sig-name descname"><span class="pre">_eval_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call._eval_numeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call._eval_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes evaluation of a numeric call.</p>
<p>Converts the intermediate values of the call into a numpy array of shape <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">1)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of observations. This method is used both in <code class="docutils literal notranslate"><span class="pre">self.set_data</span></code>
and in <code class="docutils literal notranslate"><span class="pre">self.eval_new_data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>np.ndarray</em><em> or </em><em>pd.Series</em>) – The intermediate values resulting from the call.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – A dictionary with keys <code class="docutils literal notranslate"><span class="pre">&quot;value&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>. The first contains the result of the
evaluation, and the latter is equal to <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call.accept">
<span class="sig-name descname"><span class="pre">accept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call.accept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call.accept" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept method called by a visitor.</p>
<p>Visitors are those available in call_utils.py, and are used to work with call terms.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call.eval_new_data">
<span class="sig-name descname"><span class="pre">eval_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call.eval_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call.eval_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the function call with new data.</p>
<p>This method evaluates the function call within a new data mask. If the transformation
applied is a stateful transformation, it uses the proper object that remembers all
parameters or settings that may have been set in a first pass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – The rules for the shape of this array are the rules for <code class="docutils literal notranslate"><span class="pre">self._eval_numeric()</span></code> and
<code class="docutils literal notranslate"><span class="pre">self._eval_categoric()</span></code>. The first applies for numeric calls, the second for
categoric ones.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call.set_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes the evaluation of the call according to its type.</p>
<p>Evaluates the call according to its type and stores the result in <code class="docutils literal notranslate"><span class="pre">.data</span></code>. It does not
support multi-level categoric responses yet. If <code class="docutils literal notranslate"><span class="pre">self.is_response</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> and the
variable is of a categoric type, this method returns a 1d array of 0-1 instead of a matrix.</p>
<p>In practice, it just completes the evaluation that started with <code class="docutils literal notranslate"><span class="pre">self.set_type()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> (<em>bool</em>) – Indicates if it uses full or reduced encoding when the type of the call is
categoric. Omitted when the result of the call is numeric.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Call.set_type">
<span class="sig-name descname"><span class="pre">set_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call.html#Call.set_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Call.set_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates function and determines the type of the result of the call.</p>
<p>Evaluates the function call and sets the <code class="docutils literal notranslate"><span class="pre">.kind</span></code> property to <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code> depending on the type of the result. It also stores the intermediate result
of the evaluation in <code class="docutils literal notranslate"><span class="pre">._intermediate_data</span></code> to prevent us from computing the same thing
more than once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Call.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.Call.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the variables involved in the call, not including the callee.</p>
<p>This is used to determine which variables of the data set being used are actually used in
the model. This allows us to subset the original data set and only raise errors regarding
missing values when the missingness happens in variables used in the model.</p>
<p>Uses a visitor of class <code class="docutils literal notranslate"><span class="pre">CallVarsExtractor</span></code> that walks through the components of the call
and returns a list with the name of the variables in the call.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>result</strong> – A list of strings with the names of the names of the variables in the call, not
including the name of the callee.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.Term">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">Term</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">components</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a model term.</p>
<p>Terms are made of one or more components. Components are instances of <a class="reference internal" href="#formulae.terms.Variable" title="formulae.terms.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> or
<a class="reference internal" href="#formulae.terms.Call" title="formulae.terms.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a>. Terms with only one component are known as main effects and terms with more than
one component are known as interaction effects. The order of the interaction is given by the
number of components in the term.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>components</strong> (<a class="reference internal" href="#formulae.terms.Variable" title="formulae.terms.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> or <a class="reference internal" href="#formulae.terms.Call" title="formulae.terms.Call"><code class="xref py py-class docutils literal notranslate"><span class="pre">Call</span></code></a>) – Atomic components of a term.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.terms.Term.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#formulae.terms.Term.data" title="Permalink to this definition">¶</a></dt>
<dd><p>The values associated with the term as they go into the design matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.terms.Term.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#formulae.terms.Term.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata associated with the term. If <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code> it holds additional
information in the component <code class="docutils literal notranslate"><span class="pre">.data</span></code> attribute. If <code class="docutils literal notranslate"><span class="pre">&quot;interaction&quot;</span></code>, the keys are
the name of the components and the values are dictionaries holding the metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.terms.Term.kind">
<span class="sig-name descname"><span class="pre">kind</span></span><a class="headerlink" href="#formulae.terms.Term.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates the type of the term. Can be one of <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>, or
<code class="docutils literal notranslate"><span class="pre">&quot;interaction&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.terms.Term.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#formulae.terms.Term.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the term as it was originally written in the model formula.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__add__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition operator. Analogous to set union.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">x&quot;</span></code> is equal to just <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y&quot;</span></code> is equal to a model with both <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">(y</span> <span class="pre">+</span> <span class="pre">z)&quot;</span></code> adds <code class="docutils literal notranslate"><span class="pre">x</span></code> to model already containing <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__matmul__">
<span class="sig-name descname"><span class="pre">__matmul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__matmul__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__matmul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple interaction operator.</p>
<p>This operator is actually invoked as <code class="docutils literal notranslate"><span class="pre">:</span></code> but internally passed as <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> because there
is no <code class="docutils literal notranslate"><span class="pre">:</span></code> operator in Python.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">:</span> <span class="pre">x&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">:</span> <span class="pre">y&quot;</span></code> is the interaction between <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x:(y:z)&quot;</span></code> equals to just <code class="docutils literal notranslate"><span class="pre">&quot;x:y:z&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(x:y):u&quot;</span></code> equals to just <code class="docutils literal notranslate"><span class="pre">&quot;x:y:u&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x:y):(u</span> <span class="pre">+</span> <span class="pre">v)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:y:u</span> <span class="pre">+</span> <span class="pre">x:y:v&quot;</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__mul__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Full interaction operator.</p>
<p>This operator includes both the interaction as well as the main effects involved in the
interaction. It is a shortcut for <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">x:y</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">*</span> <span class="pre">x&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">*</span> <span class="pre">y&quot;</span></code> equals to``”x + y + x:y”``</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">*</span> <span class="pre">u&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">+</span> <span class="pre">u</span> <span class="pre">+</span> <span class="pre">x:y:u&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">*</span> <span class="pre">u:v&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">+</span> <span class="pre">u:v</span> <span class="pre">+</span> <span class="pre">x:y:u:v&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">*</span> <span class="pre">(u</span> <span class="pre">+</span> <span class="pre">v)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">+</span> <span class="pre">u</span> <span class="pre">+</span> <span class="pre">v</span> <span class="pre">+</span> <span class="pre">x:y:u</span> <span class="pre">+</span> <span class="pre">x:y:v&quot;</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__or__">
<span class="sig-name descname"><span class="pre">__or__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__or__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>Group-specific operator. Creates group-specific intercept.</p>
<p>Intercepts are implicitly added.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x|g&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;(1|g)</span> <span class="pre">+</span> <span class="pre">(x|g)&quot;</span></code></p></li>
</ul>
<p>Distributive over right hand side</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x|g</span> <span class="pre">+</span> <span class="pre">h)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;(1|g)</span> <span class="pre">+</span> <span class="pre">(1|h)</span> <span class="pre">+</span> <span class="pre">(x|g)</span> <span class="pre">+</span> <span class="pre">(x|h)&quot;</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__pow__">
<span class="sig-name descname"><span class="pre">__pow__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__pow__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Power operator.</p>
<p>It leaves the term as it is. For a power in the math sense do <code class="docutils literal notranslate"><span class="pre">I(x</span> <span class="pre">**</span> <span class="pre">n)</span></code> or <code class="docutils literal notranslate"><span class="pre">{x</span> <span class="pre">**</span> <span class="pre">n}</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__sub__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction operator. Analogous to set difference.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">-</span> <span class="pre">x&quot;</span></code> returns empty model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">-</span> <span class="pre">y&quot;</span></code> returns the term <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">-</span> <span class="pre">(y</span> <span class="pre">+</span> <span class="pre">z)&quot;</span></code> returns the term <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.__truediv__">
<span class="sig-name descname"><span class="pre">__truediv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.__truediv__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Division interaction operator.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">/</span> <span class="pre">x&quot;</span></code> equals to just <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">/</span> <span class="pre">y&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">x:y&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">/</span> <span class="pre">z:y&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">x:z:y&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">/</span> <span class="pre">(z</span> <span class="pre">+</span> <span class="pre">y)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">x:z</span> <span class="pre">+</span> <span class="pre">x:y&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">/</span> <span class="pre">u:v&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">+</span> <span class="pre">x:y:u:v&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">/</span> <span class="pre">(u</span> <span class="pre">+</span> <span class="pre">v)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:y</span> <span class="pre">+</span> <span class="pre">x:y:u</span> <span class="pre">+</span> <span class="pre">x:y:v&quot;</span></code></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.eval_new_data">
<span class="sig-name descname"><span class="pre">eval_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.eval_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.eval_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the term with new data.</p>
<p>Calls <code class="docutils literal notranslate"><span class="pre">.eval_new_data()</span></code> method on each component in the term and combines the results
appropiately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – The values resulting from evaluating this term using the new data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.get_component">
<span class="sig-name descname"><span class="pre">get_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.get_component"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.get_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a component by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>string</em>) – The name of the component to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>component</strong> – The component with name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>:class:</cite>.Variable` or <cite>:class:</cite>.Call`</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.set_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains and stores the final data object related to this term.</p>
<p>Calls <code class="docutils literal notranslate"><span class="pre">.set_data()</span></code> method on each component in the term. Then, it uses the <code class="docutils literal notranslate"><span class="pre">.data</span></code>
attribute on each of them to build <code class="docutils literal notranslate"><span class="pre">self.data</span></code> and <code class="docutils literal notranslate"><span class="pre">self.metadata</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> (<em>list</em><em> or </em><em>dict</em>) – Indicates if it uses full or reduced encoding when the type of the variable is
categoric.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Term.set_type">
<span class="sig-name descname"><span class="pre">set_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Term.set_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Term.set_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Set type of the components in the term.</p>
<p>Calls <code class="docutils literal notranslate"><span class="pre">.set_type()</span></code> method on each component in the term. For those components of class
<code class="xref py py-class docutils literal notranslate"><span class="pre">Variable`</span></code> it only passes the data mask. For <cite>:class:</cite>.Call` objects it also passes
the evaluation environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Term.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.Term.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the variables in the term as a set.</p>
<p>Loops through each component and updates the set with the <code class="docutils literal notranslate"><span class="pre">.var_names</span></code> of each component.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>var_names</strong> – The names of the variables involved in the term.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.GroupSpecificTerm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">GroupSpecificTerm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#GroupSpecificTerm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.GroupSpecificTerm" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a group specific term.</p>
<p>Group specific terms are of the form <code class="docutils literal notranslate"><span class="pre">(expr</span> <span class="pre">|</span> <span class="pre">factor)</span></code>. The expression <code class="docutils literal notranslate"><span class="pre">expr</span></code> is evaluated
as a model formula with only common effects and produces a model matrix following the rules
for common terms. <code class="docutils literal notranslate"><span class="pre">factor</span></code> is inspired on factors in R, but here it is evaluated as an ordered
pandas.CategoricalDtype object.</p>
<p>The operator <code class="docutils literal notranslate"><span class="pre">|</span></code> works as in R package lme4. As its authors say: “One way to think about the
vertical bar operator is as a special kind of interaction between the model matrix and the
grouping factor. This interaction ensures that the columns of the model matrix have different
effects for each level of the grouping factor”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<a class="reference internal" href="#formulae.terms.Intercept" title="formulae.terms.Intercept"><code class="xref py py-class docutils literal notranslate"><span class="pre">Intercept</span></code></a> or <a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a>) – The term for which we want to have a group specific term.</p></li>
<li><p><strong>factor</strong> (<a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a>) – The factor that determines the groups in the group specific term.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="formulae.terms.GroupSpecificTerm.factor_type">
<span class="sig-name descname"><span class="pre">factor_type</span></span><a class="headerlink" href="#formulae.terms.GroupSpecificTerm.factor_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type assigned to the grouping factor <code class="docutils literal notranslate"><span class="pre">factor</span></code>. This is useful for when we need to
create a design matrix for new a new data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.core.dtypes.dtypes.CategoricalDtype</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.GroupSpecificTerm.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#GroupSpecificTerm.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.GroupSpecificTerm.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates term.</p>
<p>First, it evaluates the variable in <code class="docutils literal notranslate"><span class="pre">self.factor</span></code>, creates an oredered categorical data
type using its levels, and stores it in <code class="docutils literal notranslate"><span class="pre">self.factor_type</span></code>. Then, it obtains the
design matrix for <code class="docutils literal notranslate"><span class="pre">self.expr</span></code> to finally produce the matrix for the group specific
effect.</p>
<p>The output contains the following information</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code>: The kind of the <code class="docutils literal notranslate"><span class="pre">expr</span></code> term.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Xi&quot;</span></code>: The design matrix for the <code class="docutils literal notranslate"><span class="pre">expr</span></code> term.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Ji&quot;</span></code>: The design matrix for the <code class="docutils literal notranslate"><span class="pre">factor</span></code> term.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Zi&quot;</span></code>: The design matrix for the group specific term.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;groups&quot;</span></code>: The groups present in <code class="docutils literal notranslate"><span class="pre">factor</span></code>.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;categoric&quot;</span></code>, the output dictionary also contains</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;levels&quot;</span></code>: Levels of the term in <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;reference&quot;</span></code>: The level taken as baseline.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;encoding&quot;</span></code>: The encoding of the term, either <code class="docutils literal notranslate"><span class="pre">&quot;full&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;reduced&quot;</span></code></p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">&quot;kind&quot;</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;interaction&quot;</span></code>, the output dictionary also contains</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;terms&quot;</span></code>: Metadata for each of the components in the interaction in <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data frame where variables are taken from.</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
<li><p><strong>encoding</strong> (<em>bool</em>) – Whether to use full or reduced rank encoding when <code class="docutils literal notranslate"><span class="pre">expr</span></code> is categoric.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – See above.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.GroupSpecificTerm.eval_new_data">
<span class="sig-name descname"><span class="pre">eval_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#GroupSpecificTerm.eval_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.GroupSpecificTerm.eval_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the term with new data.</p>
<p>Converts the variable in <code class="docutils literal notranslate"><span class="pre">factor</span></code> to the type remembered from the first evaluation and
produces the design matrix for this grouping, calls <code class="docutils literal notranslate"><span class="pre">.eval_new_data()</span></code> on <code class="docutils literal notranslate"><span class="pre">self.expr</span></code>
to obtain the design matrix for the <code class="docutils literal notranslate"><span class="pre">expr</span></code> side, then computes the design matrix
corresponding to the group specific effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – Same rules as in <a class="reference internal" href="#formulae.terms.GroupSpecificTerm.eval" title="formulae.terms.GroupSpecificTerm.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">eval</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.GroupSpecificTerm.get_name">
<span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#GroupSpecificTerm.get_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.GroupSpecificTerm.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain string representation of the name of the term.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the term, such as <code class="docutils literal notranslate"><span class="pre">1|g</span></code> or <code class="docutils literal notranslate"><span class="pre">var|g</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.GroupSpecificTerm.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.GroupSpecificTerm.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the variables in the term as a set.</p>
<p>Obtains both the variables in the <code class="docutils literal notranslate"><span class="pre">expr</span></code> as well as the variables in <code class="docutils literal notranslate"><span class="pre">factor</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>var_names</strong> – The names of the variables involved in the term.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.Intercept">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">Intercept</span></span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal representation of a model intercept.</p>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Intercept.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept.__add__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition operator.</p>
<p>Generally this operator is used to explicitly add an intercept to a model. However, there
may be cases where the result is not a <code class="docutils literal notranslate"><span class="pre">Model</span></code>, or does not contain an intercept.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">0&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">(-1)&quot;</span></code> return an empty model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">1&quot;</span></code> returns an intercept.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">x&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">(x|g)&quot;</span></code> returns a model with both the term and the intercept.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">(x</span> <span class="pre">+</span> <span class="pre">y)&quot;</span></code> adds an intercept to the model given by <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Intercept.__or__">
<span class="sig-name descname"><span class="pre">__or__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept.__or__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>Group-specific operator. Creates group-specific intercept.</p>
<p>This operation is usually surrounded by parenthesis. It is not actually required. They
are always used because <code class="docutils literal notranslate"><span class="pre">|</span></code> has lower precedence that the other common operators.</p>
<p>This operator is distributed over the right-hand side, which means <code class="docutils literal notranslate"><span class="pre">(1|g</span> <span class="pre">+</span> <span class="pre">h)</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">(1|g)</span> <span class="pre">+</span> <span class="pre">(1|h)</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Intercept.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept.__sub__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction operator.</p>
<p>This operator removes an intercept from a model if the given model has an intercept.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">-</span> <span class="pre">1&quot;</span></code> returns an empty model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">-</span> <span class="pre">0&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">-</span> <span class="pre">(-1)&quot;</span></code> return an intercept.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">-</span> <span class="pre">(x</span> <span class="pre">+</span> <span class="pre">y)&quot;</span></code> returns the model given by <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> unchanged.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">-</span> <span class="pre">(1</span> <span class="pre">+</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">y)&quot;</span></code> returns the model given by <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, removing the intercept.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Intercept.eval_new_data">
<span class="sig-name descname"><span class="pre">eval_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept.eval_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept.eval_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data for a new intercept.</p>
<p>The length of the new intercept is given by the number of rows in <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Intercept.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept.set_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates data for the intercept.</p>
<p>It sets <code class="docutils literal notranslate"><span class="pre">self.data</span></code> equal to a numpy array of ones of length <code class="docutils literal notranslate"><span class="pre">(self.len,</span> <span class="pre">1)</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Intercept.set_type">
<span class="sig-name descname"><span class="pre">set_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Intercept.set_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Intercept.set_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets length of the intercept.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Intercept.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.Intercept.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns empty set, no variables are used in the intercept.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.NegatedIntercept">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">NegatedIntercept</span></span><a class="reference internal" href="_modules/formulae/terms/terms.html#NegatedIntercept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.NegatedIntercept" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal representation of the opposite of a model intercept.</p>
<p>This object is created whenever we use <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;-1&quot;</span></code> in a model formula. It is not
expected to appear in a final model. It’s here to help us make operations using the
<code class="docutils literal notranslate"><span class="pre">Intercept</span></code> and deciding when to keep it and when to drop it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.NegatedIntercept.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#NegatedIntercept.__add__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.NegatedIntercept.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition operator.</p>
<p>Generally this operator is used to explicitly remove an from a model.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">+</span> <span class="pre">1&quot;</span></code> returns an empty model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">+</span> <span class="pre">0&quot;</span></code> returns a negated intercept</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">+</span> <span class="pre">x&quot;</span></code> returns a model that includes the negated intercept.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">+</span> <span class="pre">(x</span> <span class="pre">+</span> <span class="pre">y)&quot;</span></code> adds an the negated intercept to the model given by <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
</ul>
<p>No matter the final result contains the negated intercept, for example if we do something
like <code class="docutils literal notranslate"><span class="pre">&quot;y</span> <span class="pre">~</span> <span class="pre">0</span> <span class="pre">+</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">0&quot;</span></code>, the <code class="docutils literal notranslate"><span class="pre">Model</span></code> that is obtained removes any negated intercepts
thay may have been left. They just don’t make sense in a model.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.Response">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">Response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a response term.</p>
<p>It is mostly a wrapper around <a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>term</strong> (<a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a>) – The term we want to take as response in the model. Must contain only one component.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Response.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Response.__add__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Response.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Modelled as operator.</p>
<p>The operator is <code class="docutils literal notranslate"><span class="pre">~</span></code>, but since it is not an operator in Python, we internally replace it
with <code class="docutils literal notranslate"><span class="pre">+</span></code>. It means the LHS is taken as the response, and the RHS as the predictor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Response.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Response.set_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Response.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data of the response term.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Response.set_type">
<span class="sig-name descname"><span class="pre">set_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Response.set_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Response.set_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Set type of the response term.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Response.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.Response.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the variables in the response as a set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.Model">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.</span></span><span class="sig-name descname"><span class="pre">Model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>terms</strong> (<a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a>) – This object can be instantiated with one or many terms.</p></li>
<li><p><strong>response</strong> (<a class="reference internal" href="#formulae.terms.Response" title="formulae.terms.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a>) – The response term. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> which means there is no response.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__add__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Addition operator. Analogous to set union.</p>
<p>Adds terms to the model and returns the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – The same model object with the added term(s).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__matmul__">
<span class="sig-name descname"><span class="pre">__matmul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__matmul__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__matmul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple interaction operator.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">:</span> <span class="pre">(u</span> <span class="pre">+</span> <span class="pre">v)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:u</span> <span class="pre">+</span> <span class="pre">x:v</span> <span class="pre">+</span> <span class="pre">y:u</span> <span class="pre">+</span> <span class="pre">y:v&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">:</span> <span class="pre">u&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:u</span> <span class="pre">+</span> <span class="pre">y:u&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">:</span> <span class="pre">f(u)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x:f(u)</span> <span class="pre">+</span> <span class="pre">y:f(u)&quot;</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>model</strong> – A new instance of the model with all the interaction terms computed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__mul__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Full interaction operator.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">*</span> <span class="pre">(u</span> <span class="pre">+</span> <span class="pre">v)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">u</span> <span class="pre">+</span> <span class="pre">v</span> <span class="pre">+</span> <span class="pre">x:u</span> <span class="pre">+</span> <span class="pre">x:v</span> <span class="pre">+</span> <span class="pre">y:u</span> <span class="pre">+</span> <span class="pre">y:v&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">*</span> <span class="pre">u&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">u</span> <span class="pre">+</span> <span class="pre">x:u</span> <span class="pre">+</span> <span class="pre">y:u&quot;</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>model</strong> – A new instance of the model with all the interaction terms computed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__or__">
<span class="sig-name descname"><span class="pre">__or__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__or__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>Group specific term operator.</p>
<p>Only _models_ <code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">+</span> <span class="pre">x&quot;</span></code> arrive here.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(0</span> <span class="pre">+</span> <span class="pre">x</span> <span class="pre">|</span> <span class="pre">g)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;(x|g)&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(0</span> <span class="pre">+</span> <span class="pre">x</span> <span class="pre">|</span> <span class="pre">g</span> <span class="pre">+</span> <span class="pre">y)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;(x|g)</span> <span class="pre">+</span> <span class="pre">(x|y)&quot;</span></code>.</p></li>
</ul>
<p>There are several edge cases to handle here. See in-line comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>model</strong> – A new instance of the model with all the terms computed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__pow__">
<span class="sig-name descname"><span class="pre">__pow__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__pow__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of a set made of <a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a></p>
<p>Computes all interactions up to order <code class="docutils literal notranslate"><span class="pre">n</span></code> between the terms in the set.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">z)</span> <span class="pre">**</span> <span class="pre">2&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">z</span> <span class="pre">+</span> <span class="pre">x:y</span> <span class="pre">+</span> <span class="pre">x:z</span> <span class="pre">+</span> <span class="pre">y:z&quot;</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>model</strong> – A new instance of the model with all the terms computed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__sub__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtraction operator. Analogous to set difference.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">-</span> <span class="pre">(x</span> <span class="pre">+</span> <span class="pre">u)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;y</span> <span class="pre">+</span> <span class="pre">u&quot;</span></code>..</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">-</span> <span class="pre">x&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">(1</span> <span class="pre">|</span> <span class="pre">g))</span> <span class="pre">-</span> <span class="pre">(1</span> <span class="pre">|</span> <span class="pre">g)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y&quot;</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – The same model object with the removed term(s).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.__truediv__">
<span class="sig-name descname"><span class="pre">__truediv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.__truediv__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.__truediv__" title="Permalink to this definition">¶</a></dt>
<dd><p>Division interaction operator.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">/</span> <span class="pre">z&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">x:y:z&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;(x</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">/</span> <span class="pre">(u</span> <span class="pre">+</span> <span class="pre">v)&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">&quot;x</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">x:y:u</span> <span class="pre">+</span> <span class="pre">x:y:v&quot;</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>model</strong> – A new instance of the model with all the terms computed.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.add_response">
<span class="sig-name descname"><span class="pre">add_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.add_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.add_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Add response term to model description.</p>
<p>This method is called when something like <code class="docutils literal notranslate"><span class="pre">&quot;y</span> <span class="pre">~</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">z&quot;</span></code> appears in a model formula.</p>
<p>This method is called via special methods such as <a class="reference internal" href="#formulae.terms.Response.__add__" title="formulae.terms.Response.__add__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Response.__add__()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – The same model object but now with a reponse term.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.add_term">
<span class="sig-name descname"><span class="pre">add_term</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.add_term"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.add_term" title="Permalink to this definition">¶</a></dt>
<dd><p>Add term to model description.</p>
<p>The term added can be of class <a class="reference internal" href="#formulae.terms.Intercept" title="formulae.terms.Intercept"><code class="xref py py-class docutils literal notranslate"><span class="pre">Intercept</span></code></a> <a class="reference internal" href="#formulae.terms.Term" title="formulae.terms.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">Term</span></code></a>, or
<a class="reference internal" href="#formulae.terms.GroupSpecificTerm" title="formulae.terms.GroupSpecificTerm"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupSpecificTerm</span></code></a>. It appends the new term object to the list of common terms or
group specific terms as appropriate.</p>
<p>This method is called via special methods such as <a class="reference internal" href="#formulae.terms.Model.__add__" title="formulae.terms.Model.__add__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__add__()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – The same model object but now containing the new term.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#formulae.terms.Model" title="formulae.terms.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Model.common_components">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">common_components</span></span><a class="headerlink" href="#formulae.terms.Model.common_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Components in common terms in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>components</strong> – A list containing all components from common terms in the model.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates terms in the model.</p>
<p>Only common effects are evaluated here. Group specific terms are evaluated individually
in <a class="reference internal" href="#formulae.matrices.GroupEffectsMatrix" title="formulae.matrices.GroupEffectsMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupEffectsMatrix</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – A dictionary where keys are the name of the terms and the values are their <code class="docutils literal notranslate"><span class="pre">.data</span></code>
attribute.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.Model.set_types">
<span class="sig-name descname"><span class="pre">set_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/terms.html#Model.set_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.Model.set_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the type of the common terms in the model.</p>
<p>Calls <code class="docutils literal notranslate"><span class="pre">.set_type()</span></code> method on term in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Model.terms">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">terms</span></span><a class="headerlink" href="#formulae.terms.Model.terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Terms in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>terms</strong> – A list containing both common and group specific terms.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="formulae.terms.Model.var_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">var_names</span></span><a class="headerlink" href="#formulae.terms.Model.var_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the variables in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>var_names</strong> – The names of all variables in the model.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="call-resolver">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">call_resolver</span></code><a class="headerlink" href="#call-resolver" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.call_resolver.</span></span><span class="sig-name descname"><span class="pre">LazyValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Lazy representation of a value in Python.</p>
<p>This object holds a value (a string or a number).
It returns its value only when it is evaluated via <code class="docutils literal notranslate"><span class="pre">.eval()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>string</em><em> or </em><em>numeric</em>) – The value it holds.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyValue.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyValue.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyValue.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the value.</p>
<p>Simply returns the value. Other arguments are ignored but required for consistency
among all the lazy objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The value this obejct represents.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>value</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyVariable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.call_resolver.</span></span><span class="sig-name descname"><span class="pre">LazyVariable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyVariable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Lazy variable name.</p>
<p>The variable represented in this object does not hold any value until it is explicitly evaluated
within a data mask and an evaluation environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the variable it represents.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyVariable.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyVariable.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyVariable.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates variable.</p>
<p>First it looks for the variable in <code class="docutils literal notranslate"><span class="pre">data_mask</span></code>. If not found there, it looks in
<code class="docutils literal notranslate"><span class="pre">env</span></code>. Then it just returns the value the variable represents in either the
data mask or the evaluation environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The value represented by this name in either the data mask or the environment.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyOperator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.call_resolver.</span></span><span class="sig-name descname"><span class="pre">LazyOperator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyOperator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Unary and Binary lazy operators.</p>
<p>Functions calls like <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">b</span></code> are converted into a LazyOperator that is resolved when you
explicitly evaluates it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op</strong> (<em>builtin_function_or_method</em>) – An operator in the <code class="docutils literal notranslate"><span class="pre">operator</span></code> built-in module. It can be one of <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">pos</span></code>, <code class="docutils literal notranslate"><span class="pre">sub</span></code>,
<code class="docutils literal notranslate"><span class="pre">neg</span></code>, <code class="docutils literal notranslate"><span class="pre">pow</span></code>, <code class="docutils literal notranslate"><span class="pre">mul</span></code>, and <code class="docutils literal notranslate"><span class="pre">truediv</span></code>.</p></li>
<li><p><strong>args</strong> – One or two lazy instances.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyOperator.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyOperator.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyOperator.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the operation.</p>
<p>Evaluates the arguments involved in the operation, calls the Python operator, and returns
the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The value obtained from the operator call.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyCall">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">formulae.terms.call_resolver.</span></span><span class="sig-name descname"><span class="pre">LazyCall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callee</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyCall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyCall" title="Permalink to this definition">¶</a></dt>
<dd><p>Lazy representation of a function call.</p>
<p>This class represents a function that can be a stateful transform (a function with memory)
whose arguments can also be stateful transforms.</p>
<p>To evaluate these functions we don’t create a string representing Python code and let <code class="docutils literal notranslate"><span class="pre">eval()</span></code>
run it. We take care of all the steps of the evaluation to make sure all the possibly nested
stateful transformations are handled correctly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callee</strong> (<em>string</em>) – The name of the function</p></li>
<li><p><strong>args</strong> (<em>list</em>) – A list of lazy objects that are evaluated when calling the function this object represents.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – A dictionary of named arguments that are evaluated when calling the function this object
represents.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="formulae.terms.call_resolver.LazyCall.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/formulae/terms/call_resolver.html#LazyCall.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#formulae.terms.call_resolver.LazyCall.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the call.</p>
<p>This method first evaluates all its arguments, which are themselves lazy objects, and then
proceeds to evaluate the call it represents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mask</strong> (<em>pd.DataFrame</em>) – The data frame where variables are taken from</p></li>
<li><p><strong>env</strong> (<em>Environment</em>) – The environment where values and functions are taken from.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result of the call evaluation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="api_reference.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">API Reference</p>
        </div>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, The developers of Bambi.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.1.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>